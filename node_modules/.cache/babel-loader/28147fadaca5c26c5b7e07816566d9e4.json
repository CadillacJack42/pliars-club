{"ast":null,"code":"import { client } from \"../services/client\";\nexport const signup = async (email, password) => {\n  const response = await client.auth.signUp({\n    email,\n    password\n  });\n  return response.user;\n};\nexport const signin = async (email, password) => {\n  const response = await client.auth.signIn({\n    email,\n    password\n  });\n  return response.user;\n};\nexport const logout = async () => {\n  await client.auth.signOut();\n};\nexport const getProducts = async () => {\n  const response = await client.from(\"products\").select(\"*\").order(\"created_at\", {\n    ascending: false\n  });\n  return response.data;\n};\n\nconst productImageUpload = async media => {\n  const response = await client.storage.from(\"product_images\").upload(`${media.name}`, media, {\n    cacheControl: \"3600\",\n    upsert: false\n  });\n  checkError(response);\n};\n\nexport const insertProduct = async (name, type, description, price, image) => {\n  const response = await client.from(\"products\").insert({\n    name,\n    type,\n    description,\n    price,\n    image: image\n  });\n  const imageUpload = await productImageUpload(image[0]);\n  console.log(\"RESPONSE FROM PRODUCT UPLOAD\", response);\n  console.log(\"IMAGE BUCKET RESPONSE FROM INSERT\", imageUpload);\n  return response.data;\n};","map":{"version":3,"names":["client","signup","email","password","response","auth","signUp","user","signin","signIn","logout","signOut","getProducts","from","select","order","ascending","data","productImageUpload","media","storage","upload","name","cacheControl","upsert","checkError","insertProduct","type","description","price","image","insert","imageUpload","console","log"],"sources":["/Users/cadillacjack/Desktop/pliars-club/src/utils/fetch-utils.js"],"sourcesContent":["import { client } from \"../services/client\";\n\nexport const signup = async (email, password) => {\n  const response = await client.auth.signUp({ email, password });\n  return response.user;\n};\n\nexport const signin = async (email, password) => {\n  const response = await client.auth.signIn({ email, password });\n  return response.user;\n};\n\nexport const logout = async () => {\n  await client.auth.signOut();\n};\n\nexport const getProducts = async () => {\n  const response = await client\n    .from(\"products\")\n    .select(\"*\")\n    .order(\"created_at\", { ascending: false });\n\n  return response.data;\n};\n\nconst productImageUpload = async (media) => {\n  const response = await client.storage\n    .from(\"product_images\")\n    .upload(`${media.name}`, media, {\n      cacheControl: \"3600\",\n      upsert: false,\n    });\n  checkError(response);\n};\n\nexport const insertProduct = async (name, type, description, price, image) => {\n  const response = await client\n    .from(\"products\")\n    .insert({ name, type, description, price, image: image });\n\n  const imageUpload = await productImageUpload(image[0]);\n\n  console.log(\"RESPONSE FROM PRODUCT UPLOAD\", response);\n  console.log(\"IMAGE BUCKET RESPONSE FROM INSERT\", imageUpload);\n  return response.data;\n};\n"],"mappings":"AAAA,SAASA,MAAT,QAAuB,oBAAvB;AAEA,OAAO,MAAMC,MAAM,GAAG,OAAOC,KAAP,EAAcC,QAAd,KAA2B;EAC/C,MAAMC,QAAQ,GAAG,MAAMJ,MAAM,CAACK,IAAP,CAAYC,MAAZ,CAAmB;IAAEJ,KAAF;IAASC;EAAT,CAAnB,CAAvB;EACA,OAAOC,QAAQ,CAACG,IAAhB;AACD,CAHM;AAKP,OAAO,MAAMC,MAAM,GAAG,OAAON,KAAP,EAAcC,QAAd,KAA2B;EAC/C,MAAMC,QAAQ,GAAG,MAAMJ,MAAM,CAACK,IAAP,CAAYI,MAAZ,CAAmB;IAAEP,KAAF;IAASC;EAAT,CAAnB,CAAvB;EACA,OAAOC,QAAQ,CAACG,IAAhB;AACD,CAHM;AAKP,OAAO,MAAMG,MAAM,GAAG,YAAY;EAChC,MAAMV,MAAM,CAACK,IAAP,CAAYM,OAAZ,EAAN;AACD,CAFM;AAIP,OAAO,MAAMC,WAAW,GAAG,YAAY;EACrC,MAAMR,QAAQ,GAAG,MAAMJ,MAAM,CAC1Ba,IADoB,CACf,UADe,EAEpBC,MAFoB,CAEb,GAFa,EAGpBC,KAHoB,CAGd,YAHc,EAGA;IAAEC,SAAS,EAAE;EAAb,CAHA,CAAvB;EAKA,OAAOZ,QAAQ,CAACa,IAAhB;AACD,CAPM;;AASP,MAAMC,kBAAkB,GAAG,MAAOC,KAAP,IAAiB;EAC1C,MAAMf,QAAQ,GAAG,MAAMJ,MAAM,CAACoB,OAAP,CACpBP,IADoB,CACf,gBADe,EAEpBQ,MAFoB,CAEZ,GAAEF,KAAK,CAACG,IAAK,EAFD,EAEIH,KAFJ,EAEW;IAC9BI,YAAY,EAAE,MADgB;IAE9BC,MAAM,EAAE;EAFsB,CAFX,CAAvB;EAMAC,UAAU,CAACrB,QAAD,CAAV;AACD,CARD;;AAUA,OAAO,MAAMsB,aAAa,GAAG,OAAOJ,IAAP,EAAaK,IAAb,EAAmBC,WAAnB,EAAgCC,KAAhC,EAAuCC,KAAvC,KAAiD;EAC5E,MAAM1B,QAAQ,GAAG,MAAMJ,MAAM,CAC1Ba,IADoB,CACf,UADe,EAEpBkB,MAFoB,CAEb;IAAET,IAAF;IAAQK,IAAR;IAAcC,WAAd;IAA2BC,KAA3B;IAAkCC,KAAK,EAAEA;EAAzC,CAFa,CAAvB;EAIA,MAAME,WAAW,GAAG,MAAMd,kBAAkB,CAACY,KAAK,CAAC,CAAD,CAAN,CAA5C;EAEAG,OAAO,CAACC,GAAR,CAAY,8BAAZ,EAA4C9B,QAA5C;EACA6B,OAAO,CAACC,GAAR,CAAY,mCAAZ,EAAiDF,WAAjD;EACA,OAAO5B,QAAQ,CAACa,IAAhB;AACD,CAVM"},"metadata":{},"sourceType":"module"}