{"ast":null,"code":"import { client } from \"../services/client\";\nexport const signup = async (email, password) => {\n  const response = await client.auth.signUp({\n    email,\n    password\n  });\n  return response.user;\n};\nexport const signin = async (email, password) => {\n  const response = await client.auth.signIn({\n    email,\n    password\n  });\n  return response.user;\n};\nexport const logout = async () => {\n  await client.auth.signOut();\n};\nexport const getProducts = async () => {\n  const response = await client.from(\"products\").select(\"*\").order(\"created_at\", {\n    ascending: false\n  });\n  return response.data;\n};\nexport const getProductById = async _ref => {\n  let {\n    id\n  } = _ref;\n  const response = await client.from(\"products\").select(\"*\").match({\n    id\n  });\n  console.log(\"FETCH BY ID RESPONSE\", response);\n  return response.data;\n};\n\nconst productImageUpload = async media => {\n  const response = await client.storage.from(\"product_images\").upload(`${media.name}`, media, {\n    cacheControl: \"3600\",\n    upsert: false\n  });\n  return response;\n};\n\nexport const insertProduct = async (data, media) => {\n  const response = await client.from(\"products\").insert(data);\n  const imageUpload = await productImageUpload(media);\n  console.log(\"RESPONSE FROM PRODUCT INSERT\", response);\n  console.log(\"IMAGE BUCKET RESPONSE FROM INSERT\", imageUpload);\n  return response.data;\n};","map":{"version":3,"names":["client","signup","email","password","response","auth","signUp","user","signin","signIn","logout","signOut","getProducts","from","select","order","ascending","data","getProductById","id","match","console","log","productImageUpload","media","storage","upload","name","cacheControl","upsert","insertProduct","insert","imageUpload"],"sources":["/Users/cadillacjack/Desktop/pliars-club/src/utils/fetch-utils.js"],"sourcesContent":["import { client } from \"../services/client\";\n\nexport const signup = async (email, password) => {\n  const response = await client.auth.signUp({ email, password });\n  return response.user;\n};\n\nexport const signin = async (email, password) => {\n  const response = await client.auth.signIn({ email, password });\n  return response.user;\n};\n\nexport const logout = async () => {\n  await client.auth.signOut();\n};\n\nexport const getProducts = async () => {\n  const response = await client\n    .from(\"products\")\n    .select(\"*\")\n    .order(\"created_at\", { ascending: false });\n  return response.data;\n};\n\nexport const getProductById = async ({ id }) => {\n  const response = await client.from(\"products\").select(\"*\").match({ id });\n  console.log(\"FETCH BY ID RESPONSE\", response);\n  return response.data;\n};\n\nconst productImageUpload = async (media) => {\n  const response = await client.storage\n    .from(\"product_images\")\n    .upload(`${media.name}`, media, {\n      cacheControl: \"3600\",\n      upsert: false,\n    });\n  return response;\n};\n\nexport const insertProduct = async (data, media) => {\n  const response = await client.from(\"products\").insert(data);\n\n  const imageUpload = await productImageUpload(media);\n\n  console.log(\"RESPONSE FROM PRODUCT INSERT\", response);\n  console.log(\"IMAGE BUCKET RESPONSE FROM INSERT\", imageUpload);\n  return response.data;\n};\n"],"mappings":"AAAA,SAASA,MAAT,QAAuB,oBAAvB;AAEA,OAAO,MAAMC,MAAM,GAAG,OAAOC,KAAP,EAAcC,QAAd,KAA2B;EAC/C,MAAMC,QAAQ,GAAG,MAAMJ,MAAM,CAACK,IAAP,CAAYC,MAAZ,CAAmB;IAAEJ,KAAF;IAASC;EAAT,CAAnB,CAAvB;EACA,OAAOC,QAAQ,CAACG,IAAhB;AACD,CAHM;AAKP,OAAO,MAAMC,MAAM,GAAG,OAAON,KAAP,EAAcC,QAAd,KAA2B;EAC/C,MAAMC,QAAQ,GAAG,MAAMJ,MAAM,CAACK,IAAP,CAAYI,MAAZ,CAAmB;IAAEP,KAAF;IAASC;EAAT,CAAnB,CAAvB;EACA,OAAOC,QAAQ,CAACG,IAAhB;AACD,CAHM;AAKP,OAAO,MAAMG,MAAM,GAAG,YAAY;EAChC,MAAMV,MAAM,CAACK,IAAP,CAAYM,OAAZ,EAAN;AACD,CAFM;AAIP,OAAO,MAAMC,WAAW,GAAG,YAAY;EACrC,MAAMR,QAAQ,GAAG,MAAMJ,MAAM,CAC1Ba,IADoB,CACf,UADe,EAEpBC,MAFoB,CAEb,GAFa,EAGpBC,KAHoB,CAGd,YAHc,EAGA;IAAEC,SAAS,EAAE;EAAb,CAHA,CAAvB;EAIA,OAAOZ,QAAQ,CAACa,IAAhB;AACD,CANM;AAQP,OAAO,MAAMC,cAAc,GAAG,cAAkB;EAAA,IAAX;IAAEC;EAAF,CAAW;EAC9C,MAAMf,QAAQ,GAAG,MAAMJ,MAAM,CAACa,IAAP,CAAY,UAAZ,EAAwBC,MAAxB,CAA+B,GAA/B,EAAoCM,KAApC,CAA0C;IAAED;EAAF,CAA1C,CAAvB;EACAE,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoClB,QAApC;EACA,OAAOA,QAAQ,CAACa,IAAhB;AACD,CAJM;;AAMP,MAAMM,kBAAkB,GAAG,MAAOC,KAAP,IAAiB;EAC1C,MAAMpB,QAAQ,GAAG,MAAMJ,MAAM,CAACyB,OAAP,CACpBZ,IADoB,CACf,gBADe,EAEpBa,MAFoB,CAEZ,GAAEF,KAAK,CAACG,IAAK,EAFD,EAEIH,KAFJ,EAEW;IAC9BI,YAAY,EAAE,MADgB;IAE9BC,MAAM,EAAE;EAFsB,CAFX,CAAvB;EAMA,OAAOzB,QAAP;AACD,CARD;;AAUA,OAAO,MAAM0B,aAAa,GAAG,OAAOb,IAAP,EAAaO,KAAb,KAAuB;EAClD,MAAMpB,QAAQ,GAAG,MAAMJ,MAAM,CAACa,IAAP,CAAY,UAAZ,EAAwBkB,MAAxB,CAA+Bd,IAA/B,CAAvB;EAEA,MAAMe,WAAW,GAAG,MAAMT,kBAAkB,CAACC,KAAD,CAA5C;EAEAH,OAAO,CAACC,GAAR,CAAY,8BAAZ,EAA4ClB,QAA5C;EACAiB,OAAO,CAACC,GAAR,CAAY,mCAAZ,EAAiDU,WAAjD;EACA,OAAO5B,QAAQ,CAACa,IAAhB;AACD,CARM"},"metadata":{},"sourceType":"module"}