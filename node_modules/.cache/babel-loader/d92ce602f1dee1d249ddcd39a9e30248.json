{"ast":null,"code":"import { client } from \"../services/client\";\nconsole.log(\"client in fetch\", client);\nexport const signup = async (email, password) => {\n  const response = await client.auth.signUp({\n    email,\n    password\n  });\n  return response.user;\n};\nexport const signin = async (email, password) => {\n  const response = await client.auth.signIn({\n    email,\n    password\n  });\n  return response.user;\n};\nexport const logout = async () => {\n  await client.auth.signOut();\n};\nexport const getProducts = async () => {\n  const response = await client.from(\"products\").select(\"*\").order(\"created_at\", {\n    ascending: false\n  });\n  return response.data;\n};\n\nconst productImageUpload = async media => {\n  const response = await client.storage.from(\"product_images\").upload(`${media.name}`, media, {\n    cacheControl: \"3600\",\n    upsert: false\n  });\n  return response;\n};\n\nexport const insertProduct = async (data, media) => {\n  const response = await client.from(\"products\").insert(data);\n  const imageUpload = await productImageUpload(media);\n  console.log(\"RESPONSE FROM PRODUCT UPLOAD\", response);\n  console.log(\"IMAGE BUCKET RESPONSE FROM INSERT\", imageUpload);\n  return response.data;\n};","map":{"version":3,"names":["client","console","log","signup","email","password","response","auth","signUp","user","signin","signIn","logout","signOut","getProducts","from","select","order","ascending","data","productImageUpload","media","storage","upload","name","cacheControl","upsert","insertProduct","insert","imageUpload"],"sources":["/Users/cadillacjack/Desktop/pliars-club/src/utils/fetch-utils.js"],"sourcesContent":["import { client } from \"../services/client\";\n\nconsole.log(\"client in fetch\", client);\n\nexport const signup = async (email, password) => {\n  const response = await client.auth.signUp({ email, password });\n  return response.user;\n};\n\nexport const signin = async (email, password) => {\n  const response = await client.auth.signIn({ email, password });\n  return response.user;\n};\n\nexport const logout = async () => {\n  await client.auth.signOut();\n};\n\nexport const getProducts = async () => {\n  const response = await client\n    .from(\"products\")\n    .select(\"*\")\n    .order(\"created_at\", { ascending: false });\n\n  return response.data;\n};\n\nconst productImageUpload = async (media) => {\n  const response = await client.storage\n    .from(\"product_images\")\n    .upload(`${media.name}`, media, {\n      cacheControl: \"3600\",\n      upsert: false,\n    });\n  return response;\n};\n\nexport const insertProduct = async (data, media) => {\n  const response = await client.from(\"products\").insert(data);\n\n  const imageUpload = await productImageUpload(media);\n\n  console.log(\"RESPONSE FROM PRODUCT UPLOAD\", response);\n  console.log(\"IMAGE BUCKET RESPONSE FROM INSERT\", imageUpload);\n  return response.data;\n};\n"],"mappings":"AAAA,SAASA,MAAT,QAAuB,oBAAvB;AAEAC,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BF,MAA/B;AAEA,OAAO,MAAMG,MAAM,GAAG,OAAOC,KAAP,EAAcC,QAAd,KAA2B;EAC/C,MAAMC,QAAQ,GAAG,MAAMN,MAAM,CAACO,IAAP,CAAYC,MAAZ,CAAmB;IAAEJ,KAAF;IAASC;EAAT,CAAnB,CAAvB;EACA,OAAOC,QAAQ,CAACG,IAAhB;AACD,CAHM;AAKP,OAAO,MAAMC,MAAM,GAAG,OAAON,KAAP,EAAcC,QAAd,KAA2B;EAC/C,MAAMC,QAAQ,GAAG,MAAMN,MAAM,CAACO,IAAP,CAAYI,MAAZ,CAAmB;IAAEP,KAAF;IAASC;EAAT,CAAnB,CAAvB;EACA,OAAOC,QAAQ,CAACG,IAAhB;AACD,CAHM;AAKP,OAAO,MAAMG,MAAM,GAAG,YAAY;EAChC,MAAMZ,MAAM,CAACO,IAAP,CAAYM,OAAZ,EAAN;AACD,CAFM;AAIP,OAAO,MAAMC,WAAW,GAAG,YAAY;EACrC,MAAMR,QAAQ,GAAG,MAAMN,MAAM,CAC1Be,IADoB,CACf,UADe,EAEpBC,MAFoB,CAEb,GAFa,EAGpBC,KAHoB,CAGd,YAHc,EAGA;IAAEC,SAAS,EAAE;EAAb,CAHA,CAAvB;EAKA,OAAOZ,QAAQ,CAACa,IAAhB;AACD,CAPM;;AASP,MAAMC,kBAAkB,GAAG,MAAOC,KAAP,IAAiB;EAC1C,MAAMf,QAAQ,GAAG,MAAMN,MAAM,CAACsB,OAAP,CACpBP,IADoB,CACf,gBADe,EAEpBQ,MAFoB,CAEZ,GAAEF,KAAK,CAACG,IAAK,EAFD,EAEIH,KAFJ,EAEW;IAC9BI,YAAY,EAAE,MADgB;IAE9BC,MAAM,EAAE;EAFsB,CAFX,CAAvB;EAMA,OAAOpB,QAAP;AACD,CARD;;AAUA,OAAO,MAAMqB,aAAa,GAAG,OAAOR,IAAP,EAAaE,KAAb,KAAuB;EAClD,MAAMf,QAAQ,GAAG,MAAMN,MAAM,CAACe,IAAP,CAAY,UAAZ,EAAwBa,MAAxB,CAA+BT,IAA/B,CAAvB;EAEA,MAAMU,WAAW,GAAG,MAAMT,kBAAkB,CAACC,KAAD,CAA5C;EAEApB,OAAO,CAACC,GAAR,CAAY,8BAAZ,EAA4CI,QAA5C;EACAL,OAAO,CAACC,GAAR,CAAY,mCAAZ,EAAiD2B,WAAjD;EACA,OAAOvB,QAAQ,CAACa,IAAhB;AACD,CARM"},"metadata":{},"sourceType":"module"}